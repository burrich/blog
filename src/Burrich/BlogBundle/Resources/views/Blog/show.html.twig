{% extends "BurrichBlogBundle::layout.html.twig" %}

{% block title %}{{ parent() ~ ' - ' ~ post.title }}{% endblock %}

{% block posts %}
  <div class="blog-post">
    <h2 class="blog-post-title">{{ post.title }}</h2>
    <p class="blog-post-meta">Le {{ post.publishedDate|localizeddate('long', 'none') }}, par <a href="">{{ post.author.username }}</a></p>
    
    {{ post.content }}
  </div><!-- /.blog-post -->

  <div id="comments">
    <h3>Ajouter un commentaire</h3>

    {{ form_start(form) }}
      {{ form_errors(form) }}

      <div class="form-group">
        {{ form_errors(form.content) }}
        {{ form_widget(form.content) }}
      </div>
    {{ form_end(form) }}

    <br>

    {% if post.comments is not empty %}
      <h3>{{ post.comments|length }} commentaire(s) :</h3>

      {% for comment in post.comments %}
        <p class="blog-post-meta">
          <a href="">{{ comment.author }}</a> - {{ comment.publishedDate|localizeddate('long', 'none') }} - <a href="" title="Supprimer">x</a>
        </p>
        <p>{{ comment.content }}</p>
      {% endfor %}
    {% endif %}
  </div>
  
{% endblock %}
